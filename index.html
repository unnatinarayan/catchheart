<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Catch the Hearts 💖 🧸Unnati & Rikesh</title>
  <style>
    body {
      margin: 0;
      background: url('https://www.transparenttextures.com/patterns/utopia.png'), linear-gradient(to top, #ffe6f0, #ffccdd);
      overflow: hidden;
      font-family: 'Comic Sans MS', cursive;
      text-align: center;
      background-size: cover;
    }
    #gameCanvas {
      border: 4px solid #ba0808;
      background-color: #fff0f5;
      display: block;
      margin: 20px auto;
    }
    #score {
      font-size: 24px;
      color: #c00918;
      font-weight: bold;
    }
    footer {
      position: absolute;
      bottom: 10px;
      width: 100%;
      font-size: 16px;
      color: #d70606;
    }
    .floating-heart {
      position: absolute;
      animation: float 6s ease-in-out infinite;
      opacity: 0.6;
    }
    @keyframes float {
      0% {
        transform: translateY(100vh) scale(0.5);
      }
      100% {
        transform: translateY(-10vh) scale(1.2);
      }
    }
  </style>
</head>
<body>

<h1>Catch the Hearts 💖</h1>
<p id="score">Score: 0</p>
<canvas id="gameCanvas" width="400" height="600"></canvas>

<footer>
  Made with 💖 by Naar for Piggy 🐷
</footer>

<script>
  const canvas = document.getElementById("gameCanvas");
  const ctx = canvas.getContext("2d");

  let player = {
    x: 160,
    y: 550,
    width: 80,
    height: 20,
    speed: 6
  };

  let hearts = [];
  let score = 0;

  function createHeart() {
    const x = Math.random() * (canvas.width - 30);
    hearts.push({ x: x, y: 0, size: 30, speed: 2 + Math.random() * 2 });
  }

  function drawPlayer() {
    ctx.fillStyle = "#ff6699";
    ctx.fillRect(player.x, player.y, player.width, player.height);
  }

  function drawHeart(h) {
    ctx.font = `${h.size}px Arial`;
    ctx.fillText("💖 🧸", h.x, h.y);
  }

  function moveHearts() {
    hearts.forEach(h => h.y += h.speed);
  }

  function checkCollision() {
    hearts = hearts.filter(h => {
      const caught = h.y + h.size > player.y &&
                     h.x > player.x &&
                     h.x < player.x + player.width;
      if (caught) {
        score++;
        document.getElementById("score").innerText = `Score: ${score}`;

        if (score === 10) {
          alert("Aww! You're catching my heart 💗");
        }
        if (score === 20) {
          alert("You're the king of my heart 👑💖");
        }
        if (score === 30) {
          alert("Only my Piggy could do this! 💖");
          setTimeout(() => {
            alert("Go and remind your Naar that you love her 😘💖");
          }, 1000);  // Adds a little pause before the second message
        }
        if (score === 40) {
          alert("Naar's heart is already yours 💘");
        }
        if (score === 50) {
          alert("Okay now STOP. Take Naar out on a date already! 😘🍕🎉");
        }
      }
      return h.y < canvas.height && !caught;
    });
  }

  let keys = {};
  document.addEventListener("keydown", e => keys[e.key] = true);
  document.addEventListener("keyup", e => keys[e.key] = false);

  function movePlayer() {
    if (keys["ArrowLeft"] && player.x > 0) player.x -= player.speed;
    if (keys["ArrowRight"] && player.x < canvas.width - player.width) player.x += player.speed;
  }

  function gameLoop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawPlayer();
    hearts.forEach(drawHeart);
    moveHearts();
    checkCollision();
    movePlayer();
    requestAnimationFrame(gameLoop);
  }

  setInterval(createHeart, 800);

  // Display a pop-up message at the start of the game
  window.onload = function() {
    alert("Welcome to Catch the Hearts 💖! Try to reach score 30 for a sweet surprise from your Naar 😘");
    gameLoop();  // Start the game after the message
  };

  // Floating hearts for cute background effect
  function generateFloatingHearts() {
    for (let i = 0; i < 20; i++) {
      const heart = document.createElement("div");
      heart.classList.add("floating-heart");
      heart.innerText = "💖";
      heart.style.left = `${Math.random() * 100}%`;
      heart.style.fontSize = `${Math.random() * 24 + 20}px`;
      heart.style.animationDuration = `${4 + Math.random() * 6}s`;
      document.body.appendChild(heart);
    }
  }

  generateFloatingHearts();
</script>

</body>
</html>
